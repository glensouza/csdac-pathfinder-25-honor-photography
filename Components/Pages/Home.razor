@page "/"
@using PathfinderPhotography.Models
@using PathfinderPhotography.Services
@inject CompositionRuleService RuleService
@rendermode InteractiveServer

<PageTitle>Photography Honor - CSDAC Pathfinders</PageTitle>

<div class="container mt-4">
    <div class="text-center mb-5">
        <h1 class="display-4">Photography Honor</h1>
        <p class="lead">CSDAC Pathfinders - 2025</p>
        <p class="text-muted">Learn the composition rules</p>
    </div>

    <div class="alert alert-info mb-4">
        <h4>📸 Your Mission</h4>
        <p class="mb-0">Submit one photo for each composition rule below. Describe how you applied each rule in your photo. 
        Use the <a href="/submit" class="alert-link">Submit Photos</a> page to upload your work!</p>
    </div>

    <h2 class="mb-4">11 Composition Rules</h2>

    @foreach (CompositionRule rule in rules)
    {
        <RuleCard Rule="rule" />
    }

    <div class="text-center mt-5 mb-4">
        <a href="/submit" class="btn btn-primary btn-lg">Submit Your Photos</a>
        <a href="/gallery" class="btn btn-outline-secondary btn-lg ms-2">View Gallery</a>
    </div>
</div>

<style>
    .sample-image-placeholder {
        height: 300px;
        background-color: #f0f0f0;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .sample-image-placeholder img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
</style>

@code {
    private List<CompositionRule> rules = [];

    protected override void OnInitialized()
    {
        rules = RuleService.GetAllRules();
    }
}
